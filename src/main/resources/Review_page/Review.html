<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" type="text/css" href="STYLE.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>
<body>
<div id="Main_Body">
    <aside>
        <div>Search for reviews</div>
        <form id="f1" th:action="@{Review/Get/Category}" method="get">
            <label>Game Name: <input type="text" ID="answer"> <button type="start>" id="button">Search</button></label>
        </form>
        <div>----------------------------------------------------------</div>
        <form id="f2" th:action="@{Review/Make}" method="post">
            <div>Would You like to Write a review</div>
            <label>Game Name: <input type="text" ID="Game_name"> </label>
            <div></div>
            <label>User Name: <input type="text" ID="User_name"> </label>
            <div></div>
            <label>Review: <input type="text" ID="Review_name"> </label>
            <div></div>
            <label>rating: <input type="number" ID="Rating"> <button type="start>" id="button1">Post</button></label>
        </form>
    </aside>
    <p id="res">lmi ntum mattis pellentesque id nibh tortor.</p>

</div>

<script>

    function getFormString() {
        var jsonStr = '';
        jsonStr += '{';
        jsonStr += '"UserID": "';
        jsonStr + $("#User_name").val() ;
        jsonStr += '",';
        jsonStr +='"Rating": "';
        jsonStr += $("#Rating").val() ;
        jsonStr +='",';
        jsonStr +='"Text_writing": "';
        jsonStr += $("#Review_name").val() ;
        jsonStr += '",';
        jsonStr +='"Game_Title": "';
        jsonStr +=$("#Game_name").val() ;
        jsonStr +='"';
        jsonStr += '}';
        return jsonStr;

    }

    $("#button1").click(function () {
        console.log(getFormString());
        $.ajax({
            url: $("#f2").attr("action"),
            type: $("#f2").attr("method"),
            data: getFormString(),
            contentType: 'application/json',
            success: function(data){
                alert( "Data Saved: " + data );
            }
        });

    });

</script>
</body>
</html>